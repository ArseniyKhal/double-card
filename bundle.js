(()=>{"use strict";var t={d:(e,n)=>{for(var s in n)t.o(n,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:n[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};t.d({},{FX:()=>l,Sr:()=>i,wo:()=>o,B_:()=>c});const e=document.getElementById("app"),n=document.getElementById("modules");let s=0;function a({state:t,time:e}){let d="";d="win"===t||"loss"===t?`\n\t\t<div class="result">\n\t\t\t<img class="result__picture" src="./static/${"win"===t?"celebration":"daed"}.svg" alt="pic">\n\t\t\t<h2 class="result__title">${"win"===t?"Вы выиграли!":"Вы проиграли!"}</h2>\n\t\t\t<p class="result__text">Затраченное время:</p>\n\t\t\t<div class="result__timer timer__volume volume">\n\t\t\t${e}\n\t\t\t</div>\n\t\t</div>`:'\n\t\t<div class="difficulty-level">\n\t\t\t<h2 class="difficulty-level__title">Выбери <br> сложность</h2>\n\t\t\t<div class="difficulty-level__row">\n\t\t\t\t<div class="difficulty-level__element" data-level="6">1</div>\n\t\t\t\t<div class="difficulty-level__element" data-level="12">2</div>\n\t\t\t\t<div class="difficulty-level__element" data-level="18">3</div>\n\t\t\t</div>\n\t\t</div>';const l=`\n\t\t<section class="modul">\n\t\t\t<div class="modul__container">\n\t\t\t\t<div class="modul__body">\n\t\t\t\t\t<div class="modul__content">\n\t\t\t\t\t\t${d}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="modul__button">\n\t\t\t\t\t\t<button class="difficulty-level__button button" id="btnStart">${"start"===t?"Старт":"Играть снова"}</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</section>`;n.innerHTML=l;const r=document.getElementById("btnStart"),v=document.querySelectorAll(".difficulty-level__element");for(const t of v)t.addEventListener("click",(()=>{for(const t of v)t.classList.remove("select-border");t.classList.add("select-border"),t instanceof HTMLElement&&(s=Number(t.dataset.level)),m()}));function m(){r.addEventListener("click",(()=>{for(const t of v)t.classList.remove("select-border");"start"===i.state?(n.classList.add("display-none"),o({difLv:s})):(c(),a({state:i.state,time:e}))}))}s>0&&s<=18&&m()}let d,i={state:"start",timeGame:"00.00",openCard:0},l=[];a({state:"start",time:i.timeGame});const c=()=>{i.state="start"},o=({difLv:t})=>{l.length=0,i.openCard=0;for(let e=0;e<t;e+=2)l[e]=Math.floor(35*Math.random()),l[e+1]=l[e];l.sort((()=>Math.random()-.5)),(()=>{const t=`<header class="header">\n\t\t\t\t<div class="container">\n\t\t\t\t\t<div class="header__body">\n\t\t\t\t\t\t<div class="header__timer timer">\n\t\t\t\t\t\t\t<div class="timer__text">\n\t\t\t\t\t\t\t\t<div class="timer__min">min</div>\n\t\t\t\t\t\t\t\t<div class="timer__sek">sek</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="timer__volume volume">00.00</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<button class="header__button button" id="newGame">Начать заново</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</header>\n\n\t\t\t<section class="card-field">\n\t\t\t\t<div class="container">\n\t\t\t\t\t<div class="card-field__body">\n\t\t\t\t\t\t${l.map(((t,e)=>{let n="";n=t>=0&&t<9?"spades":t>=9&&t<18?"clubs":t>=18&&t<27?"hearts":"diamonds";let s=!1;"hearts"!==n&&"diamonds"!==n||(s=!0);let a="";return a=0===t||9===t||18===t||27===t?"A":1===t||10===t||19===t||28===t?"K":2===t||11===t||20===t||29===t?"Q":3===t||12===t||21===t||30===t?"J":4===t||13===t||22===t||31===t?"10":5===t||14===t||23===t||32===t?"9":6===t||15===t||24===t||33===t?"8":7===t||16===t||25===t||34===t?"7":"6",`\n\t\t\t<div class="card-field__card card" data-index="${e}" data-card="${t}">\n\t\t\t\t<div class="card__back back rotate-back" data-index="${e}">\n\t\t\t\t\t<div class="back__body card__body">\n\t\t\t\t\t\t<img src="./static/card.svg" alt="card">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="card__front front"data-index="${e}">\n\t\t\t\t\t<div class="front__body card__body">\n\t\t\t\t\t\t<div class="front__face">\n\t\t\t\t\t\t\t<h2 class="front__title" ${s?'style="color: #ff4545"':""}>${a}</h2>\n\t\t\t\t\t\t\t<img src="./static/${n}.svg" alt="card">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<img class="front__picture" src="./static/${n}.svg" alt="card">\n\t\t\t\t\t\t<div class="front__face flipped-over">\n\t\t\t\t\t\t\t<h2 class="front__title" ${s?'style="color: #ff4545"':""}>${a}</h2>\n\t\t\t\t\t\t\t<img src="./static/${n}.svg" alt="card">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t</div>`})).join("")}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t`;e.innerHTML=t})(),function(){document.getElementById("newGame").addEventListener("click",(()=>{clearInterval(d),n.classList.remove("display-none")}));const t=document.querySelectorAll(".card"),e=document.querySelectorAll(".back"),s=document.querySelectorAll(".front");setTimeout((()=>{for(const t of e)t.classList.toggle("rotate-back");for(const t of s)t.classList.toggle("rotate");(function(){let d={open:!1,card:0,index:0};for(const c of t)c.addEventListener("click",(()=>{if(d.open=!d.open,c instanceof HTMLElement){if(d.open)d.card=Number(c.dataset.card),d.index=Number(c.dataset.index);else{if(d.index===Number(c.dataset.index))return void alert("Только не по этой же карте!");d.card===Number(c.dataset.card)?(i.openCard=i.openCard+2,i.openCard===l.length&&(i.state="win",a({state:i.state,time:i.timeGame}),n.classList.remove("display-none"))):(i.state="loss",a({state:i.state,time:i.timeGame}),n.classList.remove("display-none"))}const t=c.dataset.index;for(const n of e)n instanceof HTMLElement&&n.dataset.index===t&&n.classList.toggle("rotate-back");for(const e of s)e instanceof HTMLElement&&e.dataset.index===t&&e.classList.toggle("rotate")}}))})(),function(){clearInterval(d);let t=1,e=0;d=setInterval((()=>{"win"!==i.state&&"loss"!==i.state?(e=Number(e),60===t&&(t=0,e++),+t<10&&(t="0"+t),e<10&&(e="0"+e),i.timeGame=`${e}.${t}`,document.querySelector(".volume").innerHTML=i.timeGame,t=Number(t),t++):clearInterval(d)}),1e3)}()}),5e3)}()}})();